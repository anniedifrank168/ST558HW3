[
  {
    "objectID": "HW3.html",
    "href": "HW3.html",
    "title": "ST558HW3",
    "section": "",
    "text": "load(\"hw2_list.rda\")\nbp_list$treatment\n\n              patient pre_bp post_bp diff_bp normal\nSubject_1   Subject_1    120     127      -7  FALSE\nSubject_2   Subject_2    151     145       6  FALSE\nSubject_3   Subject_3    125     135     -10  FALSE\nSubject_4   Subject_4    126     122       4  FALSE\nSubject_5   Subject_5    115     115       0   TRUE\nSubject_6   Subject_6    132     122      10  FALSE\nSubject_7   Subject_7    132     123       9  FALSE\nSubject_8   Subject_8    129     126       3  FALSE\nSubject_9   Subject_9    134     126       8  FALSE\nSubject_10 Subject_10    139     129      10  FALSE\nSubject_11 Subject_11    127     132      -5  FALSE\nSubject_12 Subject_12    122     146     -24  FALSE\nSubject_13 Subject_13    127     120       7  FALSE\nSubject_14 Subject_14    135     114      21   TRUE\nSubject_15 Subject_15    133     121      12  FALSE\nSubject_16 Subject_16    128     120       8  FALSE\nSubject_17 Subject_17    147     128      19  FALSE\nSubject_18 Subject_18    138     120      18  FALSE\nSubject_19 Subject_19    140     133       7  FALSE\nSubject_20 Subject_20    132     115      17   TRUE\n\nbp_list$placebo\n\n      patient pre_bp post_bp diff_bp normal\n1   Subject_1    138     105      33   TRUE\n2   Subject_2    135     136      -1  FALSE\n3   Subject_3    147     123      24  FALSE\n4   Subject_4    117     130     -13  FALSE\n5   Subject_5    152     134      18  FALSE\n6   Subject_6    134     143      -9  FALSE\n7   Subject_7    114     135     -21  FALSE\n8   Subject_8    121     139     -18  FALSE\n9   Subject_9    131     120      11  FALSE\n10 Subject_10    130     124       6  FALSE"
  },
  {
    "objectID": "HW3.html#setting-up-environment",
    "href": "HW3.html#setting-up-environment",
    "title": "ST558HW3",
    "section": "",
    "text": "load(\"hw2_list.rda\")\nbp_list$treatment\n\n              patient pre_bp post_bp diff_bp normal\nSubject_1   Subject_1    120     127      -7  FALSE\nSubject_2   Subject_2    151     145       6  FALSE\nSubject_3   Subject_3    125     135     -10  FALSE\nSubject_4   Subject_4    126     122       4  FALSE\nSubject_5   Subject_5    115     115       0   TRUE\nSubject_6   Subject_6    132     122      10  FALSE\nSubject_7   Subject_7    132     123       9  FALSE\nSubject_8   Subject_8    129     126       3  FALSE\nSubject_9   Subject_9    134     126       8  FALSE\nSubject_10 Subject_10    139     129      10  FALSE\nSubject_11 Subject_11    127     132      -5  FALSE\nSubject_12 Subject_12    122     146     -24  FALSE\nSubject_13 Subject_13    127     120       7  FALSE\nSubject_14 Subject_14    135     114      21   TRUE\nSubject_15 Subject_15    133     121      12  FALSE\nSubject_16 Subject_16    128     120       8  FALSE\nSubject_17 Subject_17    147     128      19  FALSE\nSubject_18 Subject_18    138     120      18  FALSE\nSubject_19 Subject_19    140     133       7  FALSE\nSubject_20 Subject_20    132     115      17   TRUE\n\nbp_list$placebo\n\n      patient pre_bp post_bp diff_bp normal\n1   Subject_1    138     105      33   TRUE\n2   Subject_2    135     136      -1  FALSE\n3   Subject_3    147     123      24  FALSE\n4   Subject_4    117     130     -13  FALSE\n5   Subject_5    152     134      18  FALSE\n6   Subject_6    134     143      -9  FALSE\n7   Subject_7    114     135     -21  FALSE\n8   Subject_8    121     139     -18  FALSE\n9   Subject_9    131     120      11  FALSE\n10 Subject_10    130     124       6  FALSE"
  },
  {
    "objectID": "HW3.html#task-1-control-flow-practice",
    "href": "HW3.html#task-1-control-flow-practice",
    "title": "ST558HW3",
    "section": "Task 1: Control flow practice",
    "text": "Task 1: Control flow practice\nSuppose we want to characterize the post-treatment (or placebo) blood pressure measurement as optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130).\n\n#initialize status columns for both data frames \nbp_list$treatment$status &lt;- character(20) \nbp_list$placebo$status &lt;- character(10)\n\n#------------------------------------------------------------\n\n#creating the status column for the treatment dataframe \n\n#access the treatment dataframe \ntreatment&lt;- bp_list$treatment\n\n#for loop to iterate through each row\nfor (i in 1:nrow(treatment)) {\n  bp &lt;- treatment$post_bp[i] #get the post bp value for each i\n  \n  #apply conditions\n  if (bp &gt;= 130) {\n    treatment$status[i] &lt;- \"high\"\n  } else if (bp &gt; 120) {\n    treatment$status[i] &lt;- \"borderline\"\n  } else {\n    treatment$status[i] &lt;- \"optimal\"\n  }\n}\n\n#updata treatment dataframe in the list\nbp_list$treatment &lt;- treatment \n\n#------------------------------------------------------------\n\n#creating the status column for the placebo dataframe \n\n#access the placebo dataframe \nplacebo&lt;- bp_list$placebo\n\n#for loop to iterate through each row\nfor (i in 1:nrow(placebo)) {\n  bp &lt;- placebo$post_bp[i] #get the post bp value for each i\n  \n  #apply conditions\n  if (bp &gt;= 130) {\n    placebo$status[i] &lt;- \"high\"\n  } else if (bp &gt; 120) {\n    placebo$status[i] &lt;- \"borderline\"\n  } else {\n    placebo$status[i] &lt;- \"optimal\"\n  }\n}\n\n#updata placebo dataframe in the list\nbp_list$placebo &lt;- placebo \n\nbp_list$placebo\n\n      patient pre_bp post_bp diff_bp normal     status\n1   Subject_1    138     105      33   TRUE    optimal\n2   Subject_2    135     136      -1  FALSE       high\n3   Subject_3    147     123      24  FALSE borderline\n4   Subject_4    117     130     -13  FALSE       high\n5   Subject_5    152     134      18  FALSE       high\n6   Subject_6    134     143      -9  FALSE       high\n7   Subject_7    114     135     -21  FALSE       high\n8   Subject_8    121     139     -18  FALSE       high\n9   Subject_9    131     120      11  FALSE    optimal\n10 Subject_10    130     124       6  FALSE borderline\n\nbp_list$treatment\n\n              patient pre_bp post_bp diff_bp normal     status\nSubject_1   Subject_1    120     127      -7  FALSE borderline\nSubject_2   Subject_2    151     145       6  FALSE       high\nSubject_3   Subject_3    125     135     -10  FALSE       high\nSubject_4   Subject_4    126     122       4  FALSE borderline\nSubject_5   Subject_5    115     115       0   TRUE    optimal\nSubject_6   Subject_6    132     122      10  FALSE borderline\nSubject_7   Subject_7    132     123       9  FALSE borderline\nSubject_8   Subject_8    129     126       3  FALSE borderline\nSubject_9   Subject_9    134     126       8  FALSE borderline\nSubject_10 Subject_10    139     129      10  FALSE borderline\nSubject_11 Subject_11    127     132      -5  FALSE       high\nSubject_12 Subject_12    122     146     -24  FALSE       high\nSubject_13 Subject_13    127     120       7  FALSE    optimal\nSubject_14 Subject_14    135     114      21   TRUE    optimal\nSubject_15 Subject_15    133     121      12  FALSE borderline\nSubject_16 Subject_16    128     120       8  FALSE    optimal\nSubject_17 Subject_17    147     128      19  FALSE borderline\nSubject_18 Subject_18    138     120      18  FALSE    optimal\nSubject_19 Subject_19    140     133       7  FALSE       high\nSubject_20 Subject_20    132     115      17   TRUE    optimal"
  },
  {
    "objectID": "HW3.html#task-2-function-writing-part-a",
    "href": "HW3.html#task-2-function-writing-part-a",
    "title": "ST558HW3",
    "section": "Task 2: Function Writing Part A",
    "text": "Task 2: Function Writing Part A\nSuppose we want to write a function that can apply the above classification to many datasets.\nFunction arguments:\n\n‘df_list’ is a list that contains two dataframes, treatment and placebo\n‘stat’ represents the summary function to be used, with the default being mean\n\n\nsummarize_bp &lt;- function(df_list, stat = \"mean\") {\n  #extract the actual function from the quoted string argument\n  my_fun &lt;- get(stat)\n  \n  #calculate the statistics for the pre_bp, post_bp, and diff_bp columns in the treatment dataframe; apply the 'stat' function\n  tsum_pre_bp &lt;- my_fun(df_list$treatment$pre_bp)\n  tsum_post_bp &lt;- my_fun(df_list$treatment$post_bp)\n  tsum_diff_bp &lt;- my_fun(df_list$treatment$diff_bp)\n  \n  #calculate the statistics for the columns in the placebo dataframe\n  psum_pre_bp &lt;- my_fun(df_list$placebo$pre_bp)\n  psum_post_bp &lt;- my_fun(df_list$placebo$post_bp)\n  psum_diff_bp &lt;- my_fun(df_list$placebo$diff_bp)\n  \n  #create vector with the results from above (store results here)\n  stats_values &lt;-\n    c(tsum_pre_bp,\n      tsum_post_bp,\n      tsum_diff_bp,\n      psum_pre_bp,\n      psum_post_bp,\n      psum_diff_bp)\n  \n  #assign meaningfull names to the vector elements\n  \n  stat_names &lt;- c(\n    paste0(stat, \"_treatment_pre_bp\"),\n    paste0(stat, \"_treatment_post_bp\"),\n    paste0(stat, \"_treatment_diff_bp\"),\n    paste0(stat, \"_placebo_pre_bp\"),\n    paste0(stat, \"_placebo_post_bp\"),\n    paste0(stat, \"_placebo_diff_bp\")\n  )\n  \n  names(stats_values) &lt;- stat_names\n  \n  #return this named vector as function outpot\n  return(stats_values)\n}"
  },
  {
    "objectID": "HW3.html#task-2-function-writing-part-b",
    "href": "HW3.html#task-2-function-writing-part-b",
    "title": "ST558HW3",
    "section": "Task 2: Function Writing Part B",
    "text": "Task 2: Function Writing Part B\nHere I will be applying the written function to my list of treatment and placebo dataframes.\n\n#Apply function to my list of data without specifying my statistic\nresult_mean &lt;- summarize_bp(bp_list)\nprint(result_mean)\n\n mean_treatment_pre_bp mean_treatment_post_bp mean_treatment_diff_bp \n                131.60                 125.95                   5.65 \n   mean_placebo_pre_bp   mean_placebo_post_bp   mean_placebo_diff_bp \n                131.90                 128.90                   3.00 \n\n#Apply function with specifying statistic as variance\nresult_var &lt;- summarize_bp(bp_list, stat=\"var\")\nprint(result_var)\n\n var_treatment_pre_bp var_treatment_post_bp var_treatment_diff_bp \n             75.72632              78.99737             117.81842 \n   var_placebo_pre_bp   var_placebo_post_bp   var_placebo_diff_bp \n            149.87778             124.98889             341.33333 \n\n#Apply function with specifying statistic as standard deviation\nresult_std&lt;- summarize_bp(bp_list, stat=\"sd\")\nprint(result_std)\n\n sd_treatment_pre_bp sd_treatment_post_bp sd_treatment_diff_bp \n            8.702087             8.888046            10.854419 \n   sd_placebo_pre_bp   sd_placebo_post_bp   sd_placebo_diff_bp \n           12.242458            11.179843            18.475209 \n\n#Apply function with specifying statistic as min \nresult_min&lt;- summarize_bp(bp_list, stat=\"min\")\nprint(result_min)\n\n min_treatment_pre_bp min_treatment_post_bp min_treatment_diff_bp \n                  115                   114                   -24 \n   min_placebo_pre_bp   min_placebo_post_bp   min_placebo_diff_bp \n                  114                   105                   -21 \n\n#Apply function with specifying statistic as max\nresult_max&lt;- summarize_bp(bp_list, stat=\"max\")\nprint(result_max)\n\n max_treatment_pre_bp max_treatment_post_bp max_treatment_diff_bp \n                  151                   146                    21 \n   max_placebo_pre_bp   max_placebo_post_bp   max_placebo_diff_bp \n                  152                   143                    33"
  }
]